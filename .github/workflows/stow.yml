name: integration test

on: [push]

jobs:
  stow:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
      with:
        path: dotfiles
    - name: Install stow
      run: sudo apt install stow
    - name: test cases
      run: |
        ls -alR
        pushd dotfiles
        ./INSTALL.sh
        popd
        
        test -d ${HOME}/.local/bin
        test -f .editorconfig
        test $(git config --global --get user.name) = ndxbn
        test -f .my.cnf
        test -f terminfo.src
        test -f .tmux.conf
        test -f .zshrc
